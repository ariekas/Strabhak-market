<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </head>
  <style>
    body {
      background-color: rgb(25, 2, 31, 1);
      overflow-x: hidden;

    }
    .list-menu {
      height: 36.5vw;
      width: 66vw;
    }

    .list-harga {
      height: 26.5vw;
    }

    .total {
      height: 6vw;
    }

    .text-white {
      text-decoration: none;
    }

    .card-price {
      height: 5vw;
      width: 30vw;
      font-size: 20px;
    }

    .card{
      background-color: #1F2029;
      color: orange;
    }

    #trash{
      width: 90px;
    }
  </style>
  <body>
    <nav class="navbar border-bottom border-body" style="background-color: orange;">
      <div class="container-fluid text-white">
        <h1>Starbhak Mart</h1>
      </div>
    </nav>

    <div class="d-flex">
      <div class="row col-4">
        <div class="row text-center" style="background-color: #1F2029;">
          <div class="dropdown text-white">
            <button style="color: orange; text-transform: capitalize; font-size: 20px;"
              class="dropdown-toggle bg-transparent"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
            Menu pesanan
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="#">Action</a></li>
              <li><a class="dropdown-item" href="#">Another action</a></li>
              <li><a class="dropdown-item" href="#">Something else here</a></li>
            </ul>
          </div>
        </div>
        <div class="row  gy-2 text-center" style="background-color: #1F2029; color: orange;">
          <h4>Mang Jay</h4>
        </div>
        <div class="list-harga row gy-2 overflow-x-hidden" style="background-color: #1F2029;">
          <div id="order-summary">
            <div id="cart"></div>
          </div>
        </div>
        <div class="total row gy-2" style="background-color: #1F2029;">
          <div class="table Container table-borderless" >
            <table style="width: 100%">
              <tbody>
                <tr style="background-color: #1F2029; color: orange;">
                  <td>Discon :</td>
                  <td><span></span></td>
                </tr>
                <tr style="background-color: #1F2029; color: orange;">
                  <td>Tax :</td>
                  <td><span></span></td>
                </tr style="background-color: #1F2029;">
                <tr class="bg-dark text-white">
                  <td>Total :</td>
                  <td><span></span></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <div class="grid w-100 ms-2">
        <div class="col " style="background-color: #1F2029; color: orange;">
          <h1>Item List</h1>
        </div>
        <div class="list-menu overflow-x-hidden">
          <div class="container text-center">
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5">
              <div class="col">
                <div class="p-2" style="width: 110vw; height: 23vw ;">
                  <div class="card" style="width: 10%">
                    <img
                      src="image/burger-removebg-preview.png"
                      class="card-img-top"
                      alt="..."
                    />
                    <div class="card-body text-center">
                      <h5 class="card-title">Burger</h5>
                      <p class="card-text">Rp.35000</p>
                      <button onclick="addToCart()" class="btn" style="background-color: orange;">
                        <a href="#" class="text-white">Buy Hire</a>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="p-2" style="width: 110vw; height: 23vw">
                  <div class="card" style="width: 10%">
                    <img
                      src="image/burger-removebg-preview.png"
                      class="card-img-top"
                      alt="..."
                    />
                    <div class="card-body text-center">
                      <h5 class="card-title">Burger</h5>
                      <p class="card-text">Rp.20000</p>
                      <button onclick="addToCart()" class="btn" style="background-color: orange;">
                        <a href="#" class="text-white">Buy Hire</a>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="p-2" style="width: 110vw; height: 23vw">
                  <div class="card" style="width: 10%">
                    <img
                      src="image/burger-removebg-preview.png"
                      class="card-img-top"
                      alt="..."
                    />
                    <div class="card-body text-center">
                      <h5 class="card-title">Burger</h5>
                      <p class="card-text">Rp.10000</p>
                      <button onclick="addToCart()" class="btn" style="background-color: orange;">
                        <a href="#" class="text-white">Buy Hire</a>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <footer>
      <div class="paymen p-1 d-flex mt-2" style="background-color: orange;">
        <button class="bg-transparent">
          <i class="bi bi-stripe bg-succes text-success h2"></i>
        </button>
      </div>
    </footer>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script>
  $(document).ready(function () {
    let cart = [];
    let totalHarga = 0;

    // untuk memasukan data data produk ke aray Cart
    function addToCart(nama, harga) {
      const item = { nama, harga, jumlah: 1 };
      cart.push(item);
      updateCart();
    }
    

    function updateCart() {
      const cartContainer = $("#cart");
      cartContainer.empty();

      totalHarga = 0;

      // fungsi dari cart nya
      cart.forEach((item, index) => {
        totalHarga += item.harga * item.jumlah;
        cartContainer.append(`
          <div class="card mb-2">
            <div class="card-body">
              <h5 class="card-title">${item.nama}</h5>
              <p class="card-text">Harga: Rp.${item.harga}</p>
              <p class="card-text">Jumlah: ${item.jumlah}</p>
              <button class="btn-delete bg-transparent"><i class="trash bi bi-trash3-fill text-danger h2"></i></button>
            </div>
          </div>
        `);
      });
    $("#total-price").text(totalHarga.toFixed(2));
      updateTotal();
    }

    // Fungsi delete
    $(document).on("click", ".btn-delete", function () {
  const index = $(this).data("index");
  removeFromCart(index);
});

// Fungsi untuk menghapus satu item dari keranjang
function removeFromCart(index) {
  cart.splice(index, 1);
  updateCart();
}

  // fungsi untuk menambahkan pajak dan diskon
    function updateTotal() {
      const discon = 0; 
      const tax = totalHarga * 0.1; // Pajak 10%
      const grandTotal = totalHarga + tax - discon;

      $("tr:eq(0) span").text(discon.toFixed(2));
      $("tr:eq(1) span").text(tax.toFixed(2));
      $("tr:eq(2) span").text(grandTotal.toFixed(2));
    }

    // Fungsi saat buttom buy di tekan
    $(".btn").on("click", function () {
      const card = $(this).closest(".card");
      const namaProduk = card.find(".card-title").text();
      const hargaProduk = parseFloat(
        card.find(".card-text").text().replace("Rp.", "000")
      );

      addToCart(namaProduk, hargaProduk);
    });

    // Fungsi saat buttom paymen di tekan
    $("footer button").on("click", function () {
      alert(`Pesanan mu sedang di proses`);
    });
    
  });
</script>

  </body>
</html>
